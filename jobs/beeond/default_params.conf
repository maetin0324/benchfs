#!/bin/bash
# BeeOND IOR Benchmark Parameters Configuration
#
# This file defines the default parameters for BeeOND (BeeGFS On Demand)
# filesystem benchmarking jobs.
# You can override these by setting PARAM_FILE environment variable
# to point to a custom configuration file.
#
# BeeOND is a burst buffer filesystem that uses node SSDs.
# It is enabled by setting USE_BEEOND=1 in PBS and mounts at /beeond.

# IOR Transfer sizes
# Controls how much data is transferred in each I/O operation
# NOTE: block_size must be a multiple of transfer_size
transfer_size_list=(
  1m    # 1 MiB - small transfer
  4m    # 4 MiB - standard transfer size
)

# IOR Block sizes
# Defines the size of each block written per task
# NOTE: Must be a multiple of transfer_size (block_size >= transfer_size and block_size % transfer_size == 0)
block_size_list=(
  64m   # 64 MiB - small blocks
  256m  # 256 MiB - moderate blocks
  1g    # 1 GiB - large blocks for throughput testing
)

# Processes per node (client_ppn)
# Number of MPI processes to spawn on each compute node
# This is the main parameter for BeeOND benchmarks
ppn_list=(
  1
  2
  4
  8
)

# IOR flags
# -w: write test
# -r: read test
# -F: file per process (each process writes to its own file)
ior_flags_list=(
  "-w -r -F"  # Separate files per process
  "-w -r"     # Shared file across all processes
)
