#!/bin/bash
# Unified Job Parameters - Standard Benchmark
# Purpose: Comprehensive benchmark with various block sizes and ppn values
# Compatible with: BenchFS, BeeOND, CHFS
# Expected duration: ~10-15 minutes for 4 nodes

# ============================================================
# Common IOR Parameters (used by all file systems)
# ============================================================

transfer_size_list=(
  4m    # 4 MiB - verified stable transfer size
)

block_size_list=(
  64m   # 64 MiB - baseline
  256m  # 256 MiB - moderate
  512m  # 512 MiB - large
  1g    # 1 GiB - maximum throughput test
)

ppn_list=(
  1     # Baseline
  2     # Moderate parallelism
  4     # High parallelism
)

ior_flags_list=(
  "-w -r -F"  # File per process (independent)
  "-w -r"     # Shared file (collective)
)

# ============================================================
# BenchFS-specific Parameters
# ============================================================

# Server PPN: benchfsd processes per node
server_ppn_list=(
  1     # 1 server per node (default)
)

# Chunk size for BenchFS
benchfs_chunk_size_list=(
  4m    # 4 MiB (baseline)
  16m   # 16 MiB (reduced RPC overhead)
)

# ============================================================
# CHFS-specific Parameters
# ============================================================

# Chunk size in bytes (1MB default)
CHFS_CHUNK_SIZE=1048576

# Network protocol: sm, sockets, tcp, verbs (RDMA)
CHFS_PROTOCOL="verbs"

# Database size per node
CHFS_DB_SIZE="10GB"
