# 要旨
HPC環境において扱うデータの量は年々増加しており、数十テラバイトからペタバイト規模のデータを扱うことも珍しくない。
このような大規模データを扱う要求に応えるために、ストレージ技術は進化を続けてきた。
近年では、NVMe SSDやPersistent Memoryなどの高速なストレージデバイスが普及しつつあり、これらを活用した分散ファイルシステムやオブジェクトストレージシステムがHPC環境で広く利用されている。
しかし、既存の並列ストレージシステムに対してこれらのストレージデバイスを適用することによる性能向上には限度があり、特に大規模並列I/Oにおいては、ストレージシステムのスケーラビリティや効率性が課題となっている。
このような課題を解決するために、ジョブ実行ごとに構築されるストレージシステムであるアドホックファイルシステムが注目されている。
アドホックファイルシステムは、LustreやBeeGFSなどの従来の分散ファイルシステムとは異なり、計算ノードのローカルストレージを活用して、ジョブ実行時に一時的にファイルシステムを構築する。
この特徴により、アドホックファイルシステムは高いスケーラビリティを達成する一方で、計算ジョブとアドホックファイルシステムの両方のプロセスが同一ノード上で動作する関係上、アドホックファイルシステムがOSスレッドやCPU時間などのリソースを過度に消費すると、計算ジョブの性能に悪影響を及ぼす可能性がある。
この問題を解決するべく、本稿ではシングルコア上でローカルI/Oとノード間通信を同時に多重化する非同期I/Oランタイム Pluvio と、Pluvio上に構築されたアドホックファイルシステム BenchFS を提案する。
Pluvioは、Linuxカーネルの非同期I/Oインタフェースであるio_uringと、高性能ノード間通信ライブラリであるUCXを単一のイベントループ上で統合し、シングルスレッドでローカルストレージアクセスとRDMA通信の両方を効率的に処理する。
従来のアドホックファイルシステムでは、複数のI/O要求を並行処理するために多数のOSスレッドを生成するアプローチが一般的であったが、Pluvioの非同期アーキテクチャにより、BenchFSはシングルコア上で多数のクライアントからの要求を多重化して処理できる。
これにより、スレッド間のコンテキストスイッチや同期処理に伴うオーバーヘッドを削減し、計算ジョブが利用可能なCPUリソースへの影響を最小限に抑える。
本稿では、PluvioおよびBenchFSの設計と実装について述べ、並行度の評価や既存のアドホックファイルシステムとの性能比較評価を通じて、提案手法について検証する。
# はじめに